<!doctype html>
<head>
<style>
img, video {margin:0;padding:0}
</style>
</head>

<body>

<div id="main">
</div>
 
<script src="http://code.jquery.com/jquery-latest.min.js"></script>

<script>
var imgs = [
  "images/fish.jpg",
  "images/sweetandsourpork.jpg",
  "images/schezwan-veg-noodles.jpg"
];

var videos = [
  'videos/big_buck_bunny_480p.ogv',
  'videos/Kleiber_winter_large.ogv'
];

function play_video(url) {
  $("#myVideo").show();
  document.getElementById("myVideo").setAttribute("src",url);
  document.getElementById("myVideo").load();
  document.getElementById("myVideo").play();
}

function show_image() {
}

// gen elements
// each page should have 100% screen width and height
var pages = [];
for (var i = 0; i < imgs.length; i++) {
  pages.push($('<img src="' + imgs[i] + '"></img>').appendTo($('#main')));
}

for (var i = 0; i < videos.length; i++) {
  pages.push($('<video controls id="myVideo" src="' + videos[i] + '"></video>').appendTo('#main'));
}

var w = $(window).width();
var h = $(window).height();
$('#main').css('width', w * (imgs.length + videos.length));
$('img').css('width', w);
$('video').css('width', w);
$('img').css('height', h);
$('video').css('height', h);

document.getElementById('myVideo').addEventListener('ended',onVideoEnd,false);
var i = 0;
function onVideoEnd() {
  videoPlay(i);
  i++;
  if(i == videoCount){ i = 0; }
}

//videoPlay(0);

</script>

</body>
